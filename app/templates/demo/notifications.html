{% extends "base.html" %}

{% block title %}Notification System Demo{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-bell"></i> Enhanced Notification System Demo</h3>
                    <p class="text-muted mb-0">Test the centralized flash message system with icons, animations, and
                        action buttons</p>
                </div>
                <div class="card-body">

                    <!-- Flash Message Tests -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h5><i class="fas fa-flask"></i> Flash Message Tests</h5>
                            <p class="text-muted">Test different categories of server-side flash messages:</p>

                            <div class="d-grid gap-2">
                                <a href="{{ url_for('demo.test_flash', category='success') }}"
                                    class="btn btn-success btn-sm">
                                    <i class="fas fa-check-circle"></i> Success Message
                                </a>
                                <a href="{{ url_for('demo.test_flash', category='danger') }}"
                                    class="btn btn-danger btn-sm">
                                    <i class="fas fa-exclamation-triangle"></i> Error Message
                                </a>
                                <a href="{{ url_for('demo.test_flash', category='warning') }}"
                                    class="btn btn-warning btn-sm">
                                    <i class="fas fa-exclamation-triangle"></i> Warning Message
                                </a>
                                <a href="{{ url_for('demo.test_flash', category='info') }}" class="btn btn-info btn-sm">
                                    <i class="fas fa-info-circle"></i> Info Message
                                </a>
                                <a href="{{ url_for('demo.test_flash', category='primary') }}"
                                    class="btn btn-primary btn-sm">
                                    <i class="fas fa-bell"></i> Primary Message
                                </a>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <h5><i class="fas fa-code"></i> JavaScript API Tests</h5>
                            <p class="text-muted">Test client-side notifications with JavaScript:</p>

                            <div class="d-grid gap-2">
                                <button onclick="testBasicNotification()" class="btn btn-outline-success btn-sm">
                                    <i class="fas fa-check"></i> Basic Success
                                </button>
                                <button onclick="testNotificationWithImage()" class="btn btn-outline-info btn-sm">
                                    <i class="fas fa-image"></i> With Image
                                </button>
                                <button onclick="testNotificationWithActions()" class="btn btn-outline-warning btn-sm">
                                    <i class="fas fa-mouse-pointer"></i> With Actions
                                </button>
                                <button onclick="testMultipleNotifications()" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-layer-group"></i> Multiple Notifications
                                </button>
                                <button onclick="testLongMessage()" class="btn btn-outline-secondary btn-sm">
                                    <i class="fas fa-align-left"></i> Long Message
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Copy Functionality Test -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5><i class="fas fa-copy"></i> Copy Functionality Test</h5>
                            <p class="text-muted">Test the integrated copy functionality with our new notification
                                system:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="testUUID" class="form-label">Test UUID</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="testUUID"
                                                value="550e8400-e29b-41d4-a716-446655440000" readonly>
                                            <button class="btn btn-outline-secondary" type="button" data-copy="input"
                                                data-copy-target="testUUID"
                                                data-copy-message="Test UUID copied to clipboard!">
                                                <i class="fas fa-copy"></i> Copy
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Test Installation Command</label>
                                        <div class="code-box">
                                            <pre class="has-copy-button"><code id="test-install-cmd">curl -o /tmp/test.sh https://example.com/test.sh && sudo sh /tmp/test.sh</code></pre>
                                            <button class="btn btn-sm btn-outline-secondary mt-2" data-copy="code"
                                                data-copy-target="test-install-cmd"
                                                data-copy-message="Installation command copied to clipboard!">
                                                <i class="fas fa-copy me-1"></i>Copy Command
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Features Overview -->
                    <div class="row">
                        <div class="col-12">
                            <h5><i class="fas fa-star"></i> Features Implemented</h5>
                            <div class="row">
                                <div class="col-md-4">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success"></i> <strong>Centralized
                                                System</strong></li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Auto-dismiss
                                                Timers</strong></li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Smooth Animations</strong>
                                        </li>
                                        <li><i class="fas fa-check text-success"></i> <strong>FontAwesome Icons</strong>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success"></i> <strong>Theme Integration</strong>
                                        </li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Notification
                                                Stacking</strong></li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Action Buttons</strong>
                                        </li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Image Support</strong>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success"></i> <strong>AJAX Ready</strong></li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Responsive Design</strong>
                                        </li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Auth Page Support</strong>
                                        </li>
                                        <li><i class="fas fa-check text-success"></i> <strong>Manual Dismiss</strong>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Usage Examples -->
                    <div class="row mt-4">
                        <div class="col-12">
                            <h5><i class="fas fa-code"></i> Usage Examples</h5>
                            <div class="accordion" id="usageAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#serverSide">
                                            Server-side (Python/Flask)
                                        </button>
                                    </h2>
                                    <div id="serverSide" class="accordion-collapse collapse"
                                        data-bs-parent="#usageAccordion">
                                        <div class="accordion-body">
                                            <pre><code># Basic flash message
flash('Operation completed successfully!', 'success')

# Flash with custom actions (future enhancement)
flash_with_actions('Device deleted', 'warning', actions=[
    {'text': 'Undo', 'onclick': 'undoDelete()', 'class': 'btn-warning'},
    {'text': 'View Details', 'href': '/devices/deleted', 'class': 'btn-outline-primary'}
])</code></pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#clientSide">
                                            Client-side (JavaScript)
                                        </button>
                                    </h2>
                                    <div id="clientSide" class="accordion-collapse collapse"
                                        data-bs-parent="#usageAccordion">
                                        <div class="accordion-body">
                                            <pre><code>// Basic notification
showNotification('Success!', 'success');

// With image
showNotification('Analysis complete', 'info', 'https://image.url');

// With actions
showNotification('Confirm deletion', 'warning', null, [
    {text: 'Delete', onclick: 'confirmDelete()', class: 'btn-danger'},
    {text: 'Cancel', onclick: 'cancelDelete()', class: 'btn-secondary'}
]);</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Demo JavaScript functions
    function testBasicNotification() {
        showNotification('This is a basic success notification!', 'success');
    }

    function testNotificationWithImage() {
        showNotification('Analysis completed successfully', 'info', 'https://via.placeholder.com/40x40/06a6a9/ffffff?text=AI');
    }

    function testNotificationWithActions() {
        showNotification('Device "Server-001" will be deleted', 'warning', null, [
            { text: 'Delete', onclick: 'alert("Deleted!")', class: 'btn-danger' },
            { text: 'Cancel', onclick: 'alert("Cancelled!")', class: 'btn-secondary' }
        ]);
    }

    function testMultipleNotifications() {
        showNotification('First notification', 'info');
        setTimeout(() => showNotification('Second notification', 'success'), 500);
        setTimeout(() => showNotification('Third notification', 'warning'), 1000);
    }

    function testLongMessage() {
        showNotification('This is a longer notification message that demonstrates how the notification system handles text that spans multiple lines and contains more detailed information about the operation that was performed.', 'primary');
    }
</script>
{% endblock %}