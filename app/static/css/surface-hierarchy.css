/* filepath: /opt/wegweiser/app/static/css/surface-hierarchy.css */
/* ==========================================================================
   SURFACE HIERARCHY OVERRIDES
   Ensures visual consistency across all pages by applying the unified
   surface color system from _variables.css
   
   This file should be loaded AFTER all other component CSS files
   ========================================================================== */

@import url('./_variables.css');

/* ==========================================================================
   1. PAGE BACKGROUND
   The deepest layer - sets the foundation
   ========================================================================== */

body {
    background-color: var(--page-bg) !important;
}

html {
    background-color: var(--page-bg);
}

/* ==========================================================================
   2. MAIN CONTENT AREA
   Slightly elevated from the page background
   ========================================================================== */

.main-wrapper,
.main-content,
.page-content {
    background-color: var(--surface-base);
}

/* ==========================================================================
   3. SIDEBAR
   Raised surface - consistent with header
   ========================================================================== */

.sidebar-wrapper,
.sidebar,
.nav-sidebar {
    background-color: var(--sidebar-bg) !important;
    border-right: 1px solid var(--border-subtle) !important;
}

/* Sidebar footer area */
.sidebar-footer {
    background-color: var(--surface-overlay);
    border-top: 1px solid var(--border-subtle);
}

/* ==========================================================================
   4. TOP HEADER/NAVBAR
   Has its own surface level (--surface-navbar) for visual distinction
   ========================================================================== */

.top-header,
.navbar,
.header-wrapper,
.topbar {
    background-color: var(--navbar-bg, var(--header-bg)) !important;
    border-bottom: 1px solid var(--border-subtle) !important;
}

/* Remove any conflicting backgrounds */
.top-header .container-fluid,
.navbar .container-fluid {
    background-color: transparent !important;
}

/* ==========================================================================
   5. CARDS
   Raised surfaces within the content area
   ========================================================================== */

.card {
    background-color: var(--card-bg) !important;
    border: 1px solid var(--border-default) !important;
}

.card-header {
    background-color: var(--surface-overlay) !important;
    border-bottom: 1px solid var(--border-subtle) !important;
}

.card-footer {
    background-color: var(--surface-overlay) !important;
    border-top: 1px solid var(--border-subtle) !important;
}

/* Device/Agent cards specifically */
.device-card,
.agent-card {
    background-color: var(--card-bg) !important;
    border: 1px solid var(--border-default) !important;
}

.device-card:hover,
.agent-card:hover {
    background-color: var(--hover-bg) !important;
    border-color: var(--border-emphasis) !important;
}

/* ==========================================================================
   6. DROPDOWNS & OVERLAYS
   Elevated above cards
   ========================================================================== */

.dropdown-menu {
    background-color: var(--dropdown-bg) !important;
    border: 1px solid var(--border-default) !important;
    box-shadow: var(--shadow-lg) !important;
}

.dropdown-item:hover,
.dropdown-item:focus {
    background-color: var(--hover-bg) !important;
}

/* Popover and tooltips */
.popover {
    background-color: var(--surface-overlay) !important;
    border: 1px solid var(--border-default) !important;
}

.tooltip-inner {
    background-color: var(--surface-elevated) !important;
}

/* ==========================================================================
   7. MODALS
   Highest overlay level
   ========================================================================== */

.modal-content {
    background-color: var(--modal-bg) !important;
    border: 1px solid var(--border-default) !important;
}

.modal-header {
    background-color: var(--surface-overlay) !important;
    border-bottom: 1px solid var(--border-subtle) !important;
}

.modal-footer {
    background-color: var(--surface-overlay) !important;
    border-top: 1px solid var(--border-subtle) !important;
}

/* ==========================================================================
   8. FORM ELEMENTS
   Inputs sit in the base surface level
   ========================================================================== */

.form-control,
.form-select,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="number"],
textarea {
    background-color: var(--input-bg) !important;
    border-color: var(--border-default) !important;
    color: var(--text-primary) !important;
}

.form-control:focus,
.form-select:focus {
    background-color: var(--input-bg) !important;
    border-color: var(--primary) !important;
    box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.15) !important;
}

/* ==========================================================================
   9. TABLES
   Inherit card background, headers slightly elevated
   ========================================================================== */

.table {
    --bs-table-bg: transparent;
    --bs-table-hover-bg: var(--hover-bg);
}

.table thead th {
    background-color: var(--surface-overlay) !important;
    border-bottom: 2px solid var(--border-default) !important;
    color: var(--text-secondary) !important;
}

.table tbody tr:hover {
    background-color: var(--hover-bg) !important;
}

/* ==========================================================================
   10. TABS & NAVIGATION
   ========================================================================== */

.nav-tabs {
    border-bottom: 1px solid var(--border-default);
}

.nav-tabs .nav-link {
    background-color: transparent;
    border-color: transparent;
    color: var(--text-secondary);
}

.nav-tabs .nav-link:hover {
    background-color: var(--hover-bg);
    border-color: var(--border-default);
}

.nav-tabs .nav-link.active {
    background-color: var(--card-bg);
    border-color: var(--border-default);
    border-bottom-color: var(--card-bg);
    color: var(--text-primary);
}

/* ==========================================================================
   11. STATUS BADGES
   Consistent styling for online/offline indicators
   ========================================================================== */

.badge-online,
.status-online {
    background-color: rgba(var(--status-online-rgb), 0.15) !important;
    color: var(--status-online) !important;
    border: 1px solid rgba(var(--status-online-rgb), 0.3);
}

.badge-offline,
.status-offline {
    background-color: rgba(var(--status-offline-rgb), 0.15) !important;
    color: var(--status-offline) !important;
    border: 1px solid rgba(var(--status-offline-rgb), 0.3);
}

.badge-stale,
.status-stale {
    background-color: rgba(var(--status-stale-rgb), 0.15) !important;
    color: var(--status-stale) !important;
    border: 1px solid rgba(var(--status-stale-rgb), 0.3);
}

/* ==========================================================================
   12. OFFCANVAS (Sidepanels)
   ========================================================================== */

.offcanvas {
    background-color: var(--surface-raised) !important;
    border-color: var(--border-default) !important;
}

.offcanvas-header {
    background-color: var(--surface-overlay) !important;
    border-bottom: 1px solid var(--border-subtle) !important;
}

/* ==========================================================================
   13. BREADCRUMBS & SECONDARY NAV
   ========================================================================== */

.breadcrumb {
    background-color: transparent;
}

.breadcrumb-item a {
    color: var(--text-secondary);
}

.breadcrumb-item.active {
    color: var(--text-primary);
}

/* ==========================================================================
   14. LIST GROUPS
   ========================================================================== */

.list-group-item {
    background-color: var(--card-bg);
    border-color: var(--border-default);
    color: var(--text-primary);
}

.list-group-item:hover {
    background-color: var(--hover-bg);
}

.list-group-item.active {
    background-color: var(--primary);
    border-color: var(--primary);
    color: var(--text-inverse);
}
