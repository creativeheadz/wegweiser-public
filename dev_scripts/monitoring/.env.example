# Wegweiser Live Monitoring Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# WEGWEISER CONFIGURATION
# ============================================================================

# Base URL for Wegweiser instance
WEGWEISER_URL=http://localhost

# Test user credentials (will be created if they don't exist)
TEST_USER_EMAIL=monitor@test.local
TEST_USER_PASSWORD=TestPassword123!

# Request timeout in seconds
TEST_TIMEOUT=10

# ============================================================================
# NTFY INTEGRATION (Recommended - Simplest)
# ============================================================================
# NTFY is a simple notification service with no server setup required
# Visit https://ntfy.sh for more info

# Your NTFY topic URL
# Example: https://ntfy.sh/wegweiser-alerts
# You can use any topic name - it's created automatically
NTFY_URL=https://skald.oldforge.tech/WegweiserStatus

# NTFY authentication token (if required by your self-hosted instance)
# Leave empty for public topics
NTFY_TOKEN=tk_vlsvy25i0fqz885fek3r5nraykozg

# ============================================================================
# N8N INTEGRATION (Advanced Workflows)
# ============================================================================
# n8n allows complex workflows with multiple notification channels
# Set up a webhook trigger in n8n and paste the URL here

# Your n8n webhook URL
# Example: https://n8n.example.com/webhook/wegweiser-monitoring
N8N_WEBHOOK_URL=

# ============================================================================
# ZABBIX INTEGRATION (Enterprise Monitoring)
# ============================================================================
# Zabbix integration for enterprise monitoring and dashboards

# Zabbix API URL
# Example: http://zabbix.local/api_jsonrpc.php
ZABBIX_URL=

# Zabbix API token (create in Zabbix UI)
ZABBIX_API_TOKEN=

# Zabbix host name (must exist in Zabbix)
# Default: Wegweiser
ZABBIX_HOST_NAME=Wegweiser

# ============================================================================
# TACTICAL RMM INTEGRATION
# ============================================================================
# Tactical RMM integration for RMM-native alerts

# Tactical RMM API URL
# Example: https://rmm.example.com/api
TACTICAL_RMM_URL=

# Tactical RMM API key
TACTICAL_RMM_API_KEY=

# Tactical RMM client ID
TACTICAL_RMM_CLIENT_ID=

# Tactical RMM site ID
TACTICAL_RMM_SITE_ID=

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/opt/wegweiser/wlog/live_tests.log

# ============================================================================
# SCHEDULING (for cron or task scheduler)
# ============================================================================

# Run frequency in minutes (for documentation purposes)
# Recommended: 5-10 minutes for production
RUN_FREQUENCY_MINUTES=5

# ============================================================================
# ADVANCED OPTIONS
# ============================================================================

# Enable login simulation tests
ENABLE_LOGIN_TESTS=true

# Enable MFA tests
ENABLE_MFA_TESTS=true

# Enable database tests
ENABLE_DATABASE_TESTS=true

# Enable Celery queue tests
ENABLE_CELERY_TESTS=true

# Alert on warnings (not just failures)
ALERT_ON_WARNINGS=false

# Slack webhook for additional notifications (optional)
SLACK_WEBHOOK_URL=

# Email for alerts (optional)
ALERT_EMAIL=admin@example.com

# ============================================================================
# NOTES
# ============================================================================
# 
# 1. NTFY Setup (Recommended):
#    - No setup required, just set NTFY_URL
#    - Subscribe at https://ntfy.sh/your-topic-name
#    - Or use mobile app (iOS/Android)
#
# 2. n8n Setup:
#    - Create webhook trigger in n8n
#    - Set up workflow with notification channels
#    - Paste webhook URL here
#
# 3. Zabbix Setup:
#    - Create API token in Zabbix UI
#    - Create host named "Wegweiser"
#    - Set API URL and token
#
# 4. Tactical RMM Setup:
#    - Get API credentials from RMM settings
#    - Create client and site if needed
#    - Set all four environment variables
#
# 5. Multiple Integrations:
#    - You can enable multiple integrations simultaneously
#    - Alerts will be sent to all configured channels
#    - Useful for redundancy and multi-channel notifications

