{"settings": {"snippetUuid": "bfadda70-ca6c-4be3-b83c-0f70d03a170b", "snippetname": "updateAgent", "snippettype": ".py", "created_at": 1730305421}, "payload": {"payloadsig": "PcFzG3k7FS70Am2NG7c+SIk+FKbDEpkoIA4/DyjklkMNLiDFTyl3m/jtO0KTdh9l1UZkVNEcGNQEmV9rPaFm69OZd8Qc9nA23AONxLDoEM1anB1HCT5Hne6GaQLVCxIKUCll1h9Un/R9Lnj+8PMUhSGBmAxT3BltZpy5J34O4y7A5vEtRNVnXaZ4sAaUR7K46Bqss8Vy9+dbqaggD0C4yDHzve++QSSUZ0p9XLpac/RQR5iInwU+YCngYJXi/B8Ylj0nTiJ60MFWw6fRFuUvrmQj3Nk6Wqms4F0/ZyPVBKGz0SclzxQhs5znTLNXyVo3Qc90iDp89F2U+l/EFfrY+DWzEDbTpH0wtu97VJromAd0R8yv9QYe2WRhANAOjcAfsR+7QQspja8wjzKIVAG6WR+JWHrfJShGGu2q02aE+fyrtHJMIq1xng+Ryqkv91ybOtbpnfJSKVUiObUR1Pu2gJBLtmNlcobMzDbO7/5UTxwdVD8AdidNZBr1WE3X5CgRlItu/Gwr26+ObdD3D05A74+2gOdqh1GhvKtiyJ7UVFObuMwhHyPsrwv7eRWEOtmx4DFowfNdGSFL2HmoSGYSXWpgNZPhLApxfoWR8trJpyuVZwwv8SYTHdcV6VvcSdpe/TvSKvXc+WPFvqWCch2L0eZmoqACKeH1DWnpnKlGc80=", "payloadb64": "IyBGaWxlcGF0aDogc25pcHBldHMvdW5TaWduZWQvdXBkYXRlQWdlbnQucHkKaW1wb3J0IGhhc2hsaWIKZnJvbSBsb2d6ZXJvIGltcG9ydCBsb2dnZXIsIGxvZ2ZpbGUKaW1wb3J0IGpzb24KaW1wb3J0IHBsYXRmb3JtCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgc3VicHJvY2VzcwppbXBvcnQgb3MKaW1wb3J0IHN5cwoKZGVmIGdldFNlcnZlckNvbGxWZXJzaW9uKGxvY2FsQWdlbnRWZXJzaW9uKToKCWxvZ2dlci5pbmZvKGYnQ2hlY2tpbmcgYWdlbnQgdmVyc2lvbicpCglsb2dnZXIuaW5mbyhmJ2xvY2FsIGFnZW50VmVyc2lvbjoge2xvY2FsQWdlbnRWZXJzaW9ufScpCglyIAkJCQkJPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3tob3N0fS9kaWFncy9hZ2VudHZlcnNpb24nKQoJZGF0YSAJCQkJPSByLmpzb24oKQoJc2VydmVyQWdlbnRWZXJzaW9uIAk9IGRhdGFbJ3NlcnZlckFnZW50VmVyc2lvbiddCgljb2xsSGFzaFB5IAkJCT0gZGF0YVsnc2VydmVyQWdlbnRIYXNoUHknXQoJY29sbEhhc2hXaW4JCQk9IGRhdGFbJ3NlcnZlckFnZW50SGFzaFdpbiddCglsb2dnZXIuaW5mbyhmJ3NlcnZlciBhZ2VudFZlcnNpb246IHtzZXJ2ZXJBZ2VudFZlcnNpb259JykKCWlmIGludChsb2NhbEFnZW50VmVyc2lvbikgPCBpbnQoc2VydmVyQWdlbnRWZXJzaW9uKToKCQlsb2dnZXIuaW5mbygnTG9jYWwgYWdlbnQgbmVlZHMgdXBkYXRpbmcuLi4nKQoJCWFnZW50VXBkYXRlUmVxZCA9IFRydWUKCWVsc2U6CgkJbG9nZ2VyLmluZm8oJ0xvY2FsIGFnZW50IGlzIHVwIHRvIGRhdGUuJykKCQlhZ2VudFVwZGF0ZVJlcWQgPSBGYWxzZQoJcmV0dXJuKGFnZW50VXBkYXRlUmVxZCwgY29sbEhhc2hQeSwgY29sbEhhc2hXaW4pCgpkZWYgZ2V0U2hhMjU2SGFzaChmaWxlVG9IYXNoKToKCXNoYTI1Nkhhc2ggPSBoYXNobGliLnNoYTI1NigpCgl3aXRoIG9wZW4oZmlsZVRvSGFzaCwgJ3JiJykgYXMgZjoKCQlmb3IgYnl0ZUJsb2NrIGluIGl0ZXIobGFtYmRhOiBmLnJlYWQoNDA5NiksIGIiIik6CgkJCXNoYTI1Nkhhc2gudXBkYXRlKGJ5dGVCbG9jaykKCWxvZ2dlci5pbmZvKGYnc2hhMjU2IG9mIHtmaWxlVG9IYXNofToge3NoYTI1Nkhhc2guaGV4ZGlnZXN0KCl9JykKCXJldHVybihzaGEyNTZIYXNoLmhleGRpZ2VzdCgpKQoKZGVmIHVwZGF0ZUFnZW50KGNvbGxIYXNoUHksIGNvbGxIYXNoV2luKToKCWlmIHBsYXRmb3JtLnN5c3RlbSgpID09ICdMaW51eCcgb3IgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnOgoJCWFnZW50VXJsID0gZidodHRwczovL3tob3N0fS9kb3dubG9hZC9hZ2VudC5weScKCQljaHVua1NpemUgPSA0MDk2CgkJc2F2ZVRvRmlsZSAJPSBvcy5wYXRoLmpvaW4oc2NyaXB0c0RpciwgJ2FnZW50Lm5ldycpCgkJYWdlbnRQYXRoIAk9IG9zLnBhdGguam9pbihzY3JpcHRzRGlyLCAnYWdlbnQucHknKQoJCW9sZEFnZW50IAk9IG9zLnBhdGguam9pbihzY3JpcHRzRGlyLCAnYWdlbnQub2xkJykKCQlsb2dnZXIuaW5mbyhmJ0F0dGVtcHRpbmcgdG8gZG93bmxvYWQge2FnZW50VXJsfSB0byB7c2F2ZVRvRmlsZX0uLi4nKQoJCXRyeToKCQkJciA9IHJlcXVlc3RzLmdldChhZ2VudFVybCwgc3RyZWFtPVRydWUpCgkJCWlmIHIuc3RhdHVzX2NvZGUgIT0gMjAwOgoJCQkJbG9nZ2VyLmVycm9yKGYnRmFpbGVkIHRvIGRvd25sb2FkIHthZ2VudFVybH0uIFN0YXR1cyBDb2RlOiB7ci5zdGF0dXNfY29kZX0nKQoJCQkJcmV0dXJuKEZhbHNlKQoJCQl3aXRoIG9wZW4oc2F2ZVRvRmlsZSwgJ3diJykgYXMgZjoKCQkJCWZvciBjaHVuayBpbiByLml0ZXJfY29udGVudChjaHVua19zaXplPWNodW5rU2l6ZSk6CgkJCQkJaWYgY2h1bms6CgkJCQkJCWYud3JpdGUoY2h1bmspCgkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQlsb2dnZXIuZXJyb3IoZidGYWlsZWQgdG8gZG93bmxvYWQge2FnZW50VXJsfSB0byB7c2F2ZVRvRmlsZX0uIFJlYXNvbjoge2V9JykKCQluZXdDb2xsSGFzaCA9IGdldFNoYTI1Nkhhc2goc2F2ZVRvRmlsZSkKCQlsb2dnZXIuaW5mbyhmJ0Rvd25sb2FkZWQgSGFzaDoge25ld0NvbGxIYXNofSB8IFNlcnZlciBIYXNoOiB7Y29sbEhhc2hQeX0nKQoJCWlmIG5ld0NvbGxIYXNoID09IGNvbGxIYXNoUHk6CgkJCWxvZ2dlci5pbmZvKGYnQXR0ZW1wdGluZyB0byByZW5hbWUge3NhdmVUb0ZpbGV9IHRvIHthZ2VudFBhdGh9JykKCQkJdHJ5OgkJIyByZW5hbWUgdGhlIGN1cnJlbnQgYWdlbnQgdG8gLm9sZAoJCQkJb3MucmVuYW1lKGFnZW50UGF0aCwgb2xkQWdlbnQpCgkJCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQkJCWxvZ2dlci5lcnJvcihmJ0ZhaWxlZCB0byByZW5hbWUge2FnZW50UGF0aH0gdG8ge29sZEFnZW50fS4gUmVhc29uOiB7ZX0nKQoJCQkJc3lzLmV4aXQoKQoJCQl0cnk6CQkjIHJlbmFtZSB0aGUgYWdlbnQubmV3IHRvIGFnZW50LnB5CgkJCQlvcy5yZW5hbWUoc2F2ZVRvRmlsZSwgYWdlbnRQYXRoKQoJCQkJbG9nZ2VyLmluZm8oZidTdWNjZXNzZnVsbHkgdXBncmFkZWQge2FnZW50VXJsfSB0byB7c2F2ZVRvRmlsZX0nKQoJCQkJbG9nZ2VyLmluZm8oJ05ldyBhZ2VudCB3aWxsIHJ1biBvbiBuZXh0IGN5Y2xlJykKCQkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQkJbG9nZ2VyLmVycm9yKGYnRmFpbGVkIHRvIHJlbmFtZSB7c2F2ZVRvRmlsZX0gdG8ge2FnZW50UGF0aH0uIFJlYXNvbjoge2V9JykKCQkJdHJ5OgkJIyByZW1vdmUgdGhlIC5vbGQgYWdlbnQKCQkJCW9zLnJlbW92ZShvbGRBZ2VudCkKCQkJCWxvZ2dlci5pbmZvKGYnRGVsZXRlZCB7b2xkQWdlbnR9JykKCQkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQkJbG9nZ2VyLmVycm9yKGYnRmFpbGVkIHRvIHJlbW92ZSB7b2xkQWdlbnR9JykKCQllbHNlOgoJCQlsb2dnZXIuZXJyb3IoJ0hhc2hlcyBkbyBub3QgbWF0Y2guIERlbGV0aW5nIGRvd25sb2FkLicpCgkJCXRyeToKCQkJCW9zLnJlbW92ZShzYXZlVG9GaWxlKQoJCQlleGNlcHQgRXhjZXB0aW9uIGFzIGU6CgkJCQlsb2dnZXIuZXJyb3IoZidGYWlsZWQgdG8gZGVsZXRlIHtzYXZlVG9GaWxlfS4gUmVhc29uOiB7ZX0nKQoJCQpkZWYgZ2V0RGV2aWNlVXVpZChjb25maWdGaWxlKToKCWxvZ2dlci5pbmZvKGYnQXR0ZW1wdGluZyB0byByZWFkIGNvbmZpZyBmaWxlOiB7Y29uZmlnRmlsZX0uLi4nKQoJaWYgb3MucGF0aC5pc2ZpbGUoY29uZmlnRmlsZSk6CgkJdHJ5OgoJCQl3aXRoIG9wZW4oY29uZmlnRmlsZSwgJ3InKSBhcyBmOgoJCQkJY29uZmlnRGljdCA9IGpzb24ubG9hZChmKQoJCQlsb2dnZXIuaW5mbyhmJ1N1Y2Nlc3NmdWxseSByZWFkIHtjb25maWdGaWxlfScpCgkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQlsb2dnZXIuZXJyb3IoZidGYWlsZWQgdG8gcmVhZCB7Y29uZmlnRmlsZX0nKQoJCQlzeXMuZXhpdCgnUXVpdHRpbmcuJykKCQlkZXZpY2VVdWlkIAk9IGNvbmZpZ0RpY3RbJ2RldmljZXV1aWQnXQoJCWlmICdzZXJ2ZXJBZGRyJyBpbiBjb25maWdEaWN0OgoJCQlob3N0ID0gY29uZmlnRGljdFsnc2VydmVyQWRkciddCgkJZWxzZToKCQkJaG9zdCA9ICdzdGFnaW5nLndlZ3dlaXNlci50ZWNoJwoJZWxzZToKCQlsb2dnZXIuZXJyb3IoZid7Y29uZmlnRmlsZX0gZG9lcyBub3QgZXhpc3QuIFF1aXR0aW5nLicpCgkJc3lzLmV4aXQoKQoJcmV0dXJuKGRldmljZVV1aWQsIGhvc3QpCgpkZWYgZ2V0QXBwRGlycygpOgoJaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnOgoJCWFwcERpciAJCT0gJ2M6XFxwcm9ncmFtIGZpbGVzICh4ODYpXFxXZWd3ZWlzZXJcXCcKCWVsc2U6CgkJYXBwRGlyIAkJPSAnL29wdC9XZWd3ZWlzZXIvJwoJbG9nRGlyIAkJPSBvcy5wYXRoLmpvaW4oYXBwRGlyLCAnTG9ncycsICcnKQoJY29uZmlnRGlyIAk9IG9zLnBhdGguam9pbihhcHBEaXIsICdDb25maWcnLCAnJykKCWZpbGVzRGlyCT0gb3MucGF0aC5qb2luKGFwcERpciwgJ2ZpbGVzJywgJycpCglzY3JpcHRzRGlyCT0gb3MucGF0aC5qb2luKGFwcERpciwgJ1NjcmlwdHMnLCAnJykKCXRlbXBEaXIgCT0gb3MucGF0aC5qb2luKGFwcERpciwgJ1RlbXAnLCAnJykKCgljaGVja0RpcnMoW2FwcERpciwgbG9nRGlyLCBjb25maWdEaXIsIHRlbXBEaXIsIGZpbGVzRGlyXSkKCXJldHVybihhcHBEaXIsIGxvZ0RpciwgY29uZmlnRGlyLCB0ZW1wRGlyLCBmaWxlc0Rpciwgc2NyaXB0c0RpcikKCmRlZiBnZXRMb2NhbEFnZW50VmVyc2lvbihjb25maWdEaXIpOgoJd2l0aCBvcGVuKG9zLnBhdGguam9pbihjb25maWdEaXIsICdhZ2VudFZlcnNpb24udHh0JyksICdyJykgYXMgZjoKCQlsb2NhbEFnZW50VmVyc2lvbiA9IGYucmVhZCgpLnN0cmlwKCkKCWxvZ2dlci5pbmZvKGYnbG9jYWxBZ2VudFZlcnNpb246IHtsb2NhbEFnZW50VmVyc2lvbn0nKQoJcmV0dXJuKGxvY2FsQWdlbnRWZXJzaW9uKQoKZGVmIGNoZWNrRGlycyhkaXJzVG9DaGVjayk6Cglmb3IgZGlyVG9DaGVjayBpbiBkaXJzVG9DaGVjazoKCQlkaXJUb0NoZWNrID0gb3MucGF0aC5qb2luKGRpclRvQ2hlY2ssICcnKQoJCWlmIG5vdCBvcy5wYXRoLmlzZGlyKGRpclRvQ2hlY2spOgoJCQlsb2dnZXIuaW5mbyhmJ3tkaXJUb0NoZWNrfSBkb2VzIG5vdCBleGlzdC4gQ3JlYXRpbmcuLi4nKQoJCQl0cnk6CgkJCQlvcy5tYWtlZGlycyhkaXJUb0NoZWNrKQoJCQkJbG9nZ2VyLmluZm8oZid7ZGlyVG9DaGVja30gY3JlYXRlZC4nKQoJCQlleGNlcHQgRXhjZXB0aW9uIGFzIGU6CgkJCQlsb2dnZXIuZXJyb3IoZidGYWlsZWQgdG8gY3JlYXRlIHtkaXJUb0NoZWNrfS4gUmVhc29uOiB7ZX0nKQoJCQkJc3lzLmV4aXQoKQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIE1BSU4gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgICAgIAoKYXBwRGlyLCBcCglsb2dEaXIsIFwKCWNvbmZpZ0RpciwgXAoJdGVtcERpciwgXAoJZmlsZXNEaXIsIFwKCXNjcmlwdHNEaXIJCT0gZ2V0QXBwRGlycygpCmNvbmZpZ0ZpbGUgCQkJPSBmJ3tjb25maWdEaXJ9YWdlbnQuY29uZmlnJwpkZXZpY2VVdWlkLCBcCglob3N0CQkJPSBnZXREZXZpY2VVdWlkKGNvbmZpZ0ZpbGUpCmxvY2FsQWdlbnRWZXJzaW9uCT0gZ2V0TG9jYWxBZ2VudFZlcnNpb24oY29uZmlnRGlyKQoKYWdlbnRVcGRhdGVSZXFkLCBcCmNvbGxIYXNoUHksIFwKY29sbEhhc2hXaW4JCT0gZ2V0U2VydmVyQ29sbFZlcnNpb24obG9jYWxBZ2VudFZlcnNpb24pCgppZiBhZ2VudFVwZGF0ZVJlcWQgPT0gVHJ1ZToKCXVwZGF0ZUFnZW50KGNvbGxIYXNoUHksIGNvbGxIYXNoV2luKQoJc3lzLmV4aXQoJ0V4aXRpbmcgYWZ0ZXIgdXBkYXRlLicp"}, "resigned_at": 1761308224}